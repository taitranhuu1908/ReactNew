{"ast":null,"code":"import _defineProperty from\"C:/Users/emlac/Desktop/ReactNew/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"C:/Users/emlac/Desktop/ReactNew/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"C:/Users/emlac/Desktop/ReactNew/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import{useSelector,useDispatch}from\"react-redux\";import{Box,Grid,Button,Input,InputLabel,List,ListItem,Avatar,Typography,InputAdornment,IconButton,Stack}from\"@material-ui/core\";import HeaderTask from\"./../Home/Tasks/HeaderTask\";import{acGetUserAdminRequest,acUpdateUserAdminRequest}from\"./../../../../Actions\";import VisibilityOffIcon from\"@material-ui/icons/VisibilityOff\";import VisibilityIcon from\"@material-ui/icons/Visibility\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Profile(){var usersAdmin=useSelector(function(state){return state.usersAdmin;});var _useState=useState(false),_useState2=_slicedToArray(_useState,2),showPassword=_useState2[0],setShowPassword=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),updated=_useState4[0],setUpdated=_useState4[1];var dispatch=useDispatch();var _useState5=useState({id:\"\",email:\"\",password:\"\",firstName:\"\",lastName:\"\",city:\"\",country:\"\",postalCode:\"\",about:\"\"}),_useState6=_slicedToArray(_useState5,2),inputValue=_useState6[0],setInputValue=_useState6[1];var _useState7=useState(null),_useState8=_slicedToArray(_useState7,2),avatar=_useState8[0],setAvatar=_useState8[1];var _useState9=useState(\"\"),_useState10=_slicedToArray(_useState9,2),fullName=_useState10[0],setFullName=_useState10[1];useEffect(function(){dispatch(acGetUserAdminRequest());},[]);useEffect(function(){var userLocal=localStorage.getItem(\"user\")?JSON.parse(localStorage.getItem(\"user\")):\"\";var i=-1;if(usersAdmin.length>0){usersAdmin.forEach(function(user,index){if(user.email===userLocal){return i=index;}});}if(i!==-1){setInputValue(_objectSpread(_objectSpread({},inputValue),{},{id:usersAdmin[i].id,email:usersAdmin[i].email,password:usersAdmin[i].password,firstName:usersAdmin[i].firstName,lastName:usersAdmin[i].lastName,city:usersAdmin[i].city||\"\",country:usersAdmin[i].country||\"\",postalCode:usersAdmin[i].postalCode||\"\",about:usersAdmin[i].about||\"\"}));setAvatar(usersAdmin[i].avatar);inputValue.firstName&&inputValue.lastName?setFullName(\"\".concat(usersAdmin[i].firstName,\" \").concat(usersAdmin[i].lastName)):setFullName(inputValue.email);}},[usersAdmin]);var listInput=[{label:\"Email Address\",name:\"email\",width:3,value:inputValue.email},{label:\"Password\",name:\"password\",width:3,value:inputValue.password},{label:\"First Name\",width:6,name:\"firstName\",value:inputValue.firstName},{label:\"Last Name\",width:6,name:\"lastName\",value:inputValue.lastName},{label:\"City\",width:4,name:\"city\",value:inputValue.city},{label:\"Country\",width:4,name:\"country\",value:inputValue.country},{label:\"Postal Code\",width:4,name:\"postalCode\",value:inputValue.postalCode},{label:\"About me\",width:12,name:\"about\",value:inputValue.about}];var onChangeAvatar=function onChangeAvatar(e){var file=e.target.files[0];var fr=new FileReader();fr.readAsDataURL(file);fr.onloadend=function(){setAvatar(fr.result);};};var onChange=function onChange(e){setInputValue(_objectSpread(_objectSpread({},inputValue),{},_defineProperty({},e.target.name,e.target.value)));};var updateProfile=function updateProfile(){var userUpdate={id:inputValue.id,email:inputValue.email,password:inputValue.password,firstName:inputValue.firstName,lastName:inputValue.lastName,city:inputValue.city,country:inputValue.country,postalCode:inputValue.postalCode,about:inputValue.about,avatar:avatar};dispatch(acUpdateUserAdminRequest(userUpdate));setUpdated(true);setTimeout(function(){setUpdated(false);},5000);};return/*#__PURE__*/_jsx(Box,{className:\"body-admin m-0 pt-5  bgr-admin\",sx:{minHeight:\"100vh\"},children:/*#__PURE__*/_jsxs(Grid,{container:true,spacing:1,className:\"ps-4 w-100\",children:[/*#__PURE__*/_jsx(Grid,{item:true,xs:12,md:8,className:\"mb-5\",children:/*#__PURE__*/_jsxs(Box,{className:\"box\",sx:{minHeight:\"476px\"},children:[/*#__PURE__*/_jsx(HeaderTask,{bgr:\"badge-purple\",title:\"Edit Profile\",position:\"start\",caption:\"Complete your profile\"}),/*#__PURE__*/_jsxs(Grid,{container:true,spacing:2,className:\"py-4 px-3\",children:[/*#__PURE__*/_jsxs(Grid,{item:true,xs:6,children:[/*#__PURE__*/_jsx(InputLabel,{children:\"Company\"}),/*#__PURE__*/_jsx(Input,{color:\"secondary\",className:\"w-100\",type:\"text\",disabled:true,value:\"How2Code\"})]}),listInput.map(function(item,index){return/*#__PURE__*/_jsxs(Grid,{item:true,xs:item.width,children:[/*#__PURE__*/_jsx(InputLabel,{children:item.label}),item.name!==\"password\"?/*#__PURE__*/_jsx(Input,{color:\"secondary\",className:\"w-100\",type:\"text\",disabled:item.name===\"email\"?true:false,value:item.value||\"\",onChange:onChange,name:item.name}):/*#__PURE__*/_jsx(Input,{color:\"secondary\",className:\"w-100\",type:showPassword?\"text\":\"password\",value:item.value||\"\",onChange:onChange,name:item.name,endAdornment:/*#__PURE__*/_jsx(InputAdornment,{position:\"end\",children:/*#__PURE__*/_jsx(IconButton,{onClick:function onClick(){return setShowPassword(!showPassword);},children:showPassword?/*#__PURE__*/_jsx(VisibilityIcon,{}):/*#__PURE__*/_jsx(VisibilityOffIcon,{})})})})]},index);}),/*#__PURE__*/_jsxs(Grid,{item:true,xs:12,className:\"mt-3\",children:[updated&&/*#__PURE__*/_jsx(Box,{sx:{marginBottom:\"15px\"},children:/*#__PURE__*/_jsx(Typography,{color:\"secondary\",variant:\"body2\",children:\"You have successfully updated !\"})}),/*#__PURE__*/_jsx(Button,{onClick:updateProfile,variant:\"contained\",color:\"secondary\",children:\"UPDATE PROFILE\"})]})]})]})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,md:4,children:/*#__PURE__*/_jsxs(Box,{className:\"box\",children:[/*#__PURE__*/_jsx(Box,{sx:{display:\"flex\",justifyContent:\"center\",marginTop:\"-46px\"},children:/*#__PURE__*/_jsx(Avatar,{sx:{width:\"120px\",height:\"120px\"},src:avatar})}),/*#__PURE__*/_jsx(Stack,{children:/*#__PURE__*/_jsxs(\"label\",{htmlFor:\"contained-button-file\",style:{display:\"flex\",justifyContent:\"center\",marginTop:\"26px\"},children:[/*#__PURE__*/_jsx(Input,{accept:\"image/*\",id:\"contained-button-file\",multiple:true,onChange:onChangeAvatar,type:\"file\",sx:{display:\"none\"}}),/*#__PURE__*/_jsx(Button,{variant:\"contained\",color:\"secondary\",component:\"span\",children:\"Upload\"})]})}),/*#__PURE__*/_jsxs(List,{className:\"mt-4 pb-5\",children:[/*#__PURE__*/_jsx(ListItem,{sx:{justifyContent:\"center\"},children:/*#__PURE__*/_jsx(Typography,{variant:\"h5\",children:fullName})}),/*#__PURE__*/_jsx(ListItem,{sx:{justifyContent:\"center\"},children:/*#__PURE__*/_jsx(Typography,{children:inputValue.about})}),/*#__PURE__*/_jsx(ListItem,{sx:{justifyContent:\"center\"},className:\"mt-3\",children:/*#__PURE__*/_jsx(Button,{className:\"w-25\",variant:\"contained\",color:\"secondary\",children:\"Follow me\"})})]})]})})]})});}","map":{"version":3,"sources":["C:/Users/emlac/Desktop/ReactNew/src/Components/AdminPage/Admin/Profile/index.jsx"],"names":["React","useState","useEffect","useSelector","useDispatch","Box","Grid","Button","Input","InputLabel","List","ListItem","Avatar","Typography","InputAdornment","IconButton","Stack","HeaderTask","acGetUserAdminRequest","acUpdateUserAdminRequest","VisibilityOffIcon","VisibilityIcon","Profile","usersAdmin","state","showPassword","setShowPassword","updated","setUpdated","dispatch","id","email","password","firstName","lastName","city","country","postalCode","about","inputValue","setInputValue","avatar","setAvatar","fullName","setFullName","userLocal","localStorage","getItem","JSON","parse","i","length","forEach","user","index","listInput","label","name","width","value","onChangeAvatar","e","file","target","files","fr","FileReader","readAsDataURL","onloadend","result","onChange","updateProfile","userUpdate","setTimeout","minHeight","map","item","marginBottom","display","justifyContent","marginTop","height"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport {\r\n  Box,\r\n  Grid,\r\n  Button,\r\n  Input,\r\n  InputLabel,\r\n  List,\r\n  ListItem,\r\n  Avatar,\r\n  Typography,\r\n  InputAdornment,\r\n  IconButton,\r\n  Stack,\r\n} from \"@material-ui/core\";\r\nimport HeaderTask from \"./../Home/Tasks/HeaderTask\";\r\nimport {\r\n  acGetUserAdminRequest,\r\n  acUpdateUserAdminRequest,\r\n} from \"./../../../../Actions\";\r\nimport VisibilityOffIcon from \"@material-ui/icons/VisibilityOff\";\r\nimport VisibilityIcon from \"@material-ui/icons/Visibility\";\r\n\r\nexport default function Profile() {\r\n  const usersAdmin = useSelector((state) => state.usersAdmin);\r\n  const [showPassword, setShowPassword] = useState(false);\r\n  const [updated, setUpdated] = useState(false);\r\n  const dispatch = useDispatch();\r\n  const [inputValue, setInputValue] = useState({\r\n    id: \"\",\r\n    email: \"\",\r\n    password: \"\",\r\n    firstName: \"\",\r\n    lastName: \"\",\r\n    city: \"\",\r\n    country: \"\",\r\n    postalCode: \"\",\r\n    about: \"\",\r\n  });\r\n  const [avatar, setAvatar] = useState(null);\r\n  const [fullName, setFullName] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    dispatch(acGetUserAdminRequest());\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    const userLocal = localStorage.getItem(\"user\")\r\n      ? JSON.parse(localStorage.getItem(\"user\"))\r\n      : \"\";\r\n    var i = -1;\r\n    if (usersAdmin.length > 0) {\r\n      usersAdmin.forEach((user, index) => {\r\n        if (user.email === userLocal) {\r\n          return (i = index);\r\n        }\r\n      });\r\n    }\r\n    if (i !== -1) {\r\n      setInputValue({\r\n        ...inputValue,\r\n        id: usersAdmin[i].id,\r\n        email: usersAdmin[i].email,\r\n        password: usersAdmin[i].password,\r\n        firstName: usersAdmin[i].firstName,\r\n        lastName: usersAdmin[i].lastName,\r\n        city: usersAdmin[i].city || \"\",\r\n        country: usersAdmin[i].country || \"\",\r\n        postalCode: usersAdmin[i].postalCode || \"\",\r\n        about: usersAdmin[i].about || \"\",\r\n      });\r\n      setAvatar(usersAdmin[i].avatar);\r\n      inputValue.firstName && inputValue.lastName\r\n        ? setFullName(`${usersAdmin[i].firstName} ${usersAdmin[i].lastName}`)\r\n        : setFullName(inputValue.email);\r\n    }\r\n  }, [usersAdmin]);\r\n\r\n  const listInput = [\r\n    {\r\n      label: \"Email Address\",\r\n      name: \"email\",\r\n      width: 3,\r\n      value: inputValue.email,\r\n    },\r\n    {\r\n      label: \"Password\",\r\n      name: \"password\",\r\n      width: 3,\r\n      value: inputValue.password,\r\n    },\r\n    {\r\n      label: \"First Name\",\r\n      width: 6,\r\n      name: \"firstName\",\r\n      value: inputValue.firstName,\r\n    },\r\n    {\r\n      label: \"Last Name\",\r\n      width: 6,\r\n      name: \"lastName\",\r\n      value: inputValue.lastName,\r\n    },\r\n    {\r\n      label: \"City\",\r\n      width: 4,\r\n      name: \"city\",\r\n      value: inputValue.city,\r\n    },\r\n    {\r\n      label: \"Country\",\r\n      width: 4,\r\n      name: \"country\",\r\n      value: inputValue.country,\r\n    },\r\n    {\r\n      label: \"Postal Code\",\r\n      width: 4,\r\n      name: \"postalCode\",\r\n      value: inputValue.postalCode,\r\n    },\r\n    {\r\n      label: \"About me\",\r\n      width: 12,\r\n      name: \"about\",\r\n      value: inputValue.about,\r\n    },\r\n  ];\r\n\r\n  const onChangeAvatar = (e) => {\r\n    const file = e.target.files[0];\r\n    const fr = new FileReader();\r\n    fr.readAsDataURL(file);\r\n    fr.onloadend = () => {\r\n      setAvatar(fr.result);\r\n    };\r\n  };\r\n\r\n  const onChange = (e) => {\r\n    setInputValue({\r\n      ...inputValue,\r\n      [e.target.name]: e.target.value,\r\n    });\r\n  };\r\n  const updateProfile = () => {\r\n    const userUpdate = {\r\n      id: inputValue.id,\r\n      email: inputValue.email,\r\n      password: inputValue.password,\r\n      firstName: inputValue.firstName,\r\n      lastName: inputValue.lastName,\r\n      city: inputValue.city,\r\n      country: inputValue.country,\r\n      postalCode: inputValue.postalCode,\r\n      about: inputValue.about,\r\n      avatar: avatar,\r\n    };\r\n    dispatch(acUpdateUserAdminRequest(userUpdate));\r\n    setUpdated(true);\r\n    setTimeout(() => {\r\n      setUpdated(false);\r\n    }, 5000);\r\n  };\r\n\r\n  return (\r\n    <Box className=\"body-admin m-0 pt-5  bgr-admin\" sx={{ minHeight: \"100vh\" }}>\r\n      <Grid container spacing={1} className=\"ps-4 w-100\">\r\n        <Grid item xs={12} md={8} className=\"mb-5\">\r\n          <Box className=\"box\" sx={{ minHeight: \"476px\" }}>\r\n            <HeaderTask\r\n              bgr=\"badge-purple\"\r\n              title=\"Edit Profile\"\r\n              position=\"start\"\r\n              caption=\"Complete your profile\"\r\n            />\r\n            <Grid container spacing={2} className=\"py-4 px-3\">\r\n              <Grid item xs={6}>\r\n                <InputLabel>Company</InputLabel>\r\n                <Input\r\n                  color=\"secondary\"\r\n                  className=\"w-100\"\r\n                  type=\"text\"\r\n                  disabled\r\n                  value=\"How2Code\"\r\n                />\r\n              </Grid>\r\n              {listInput.map((item, index) => {\r\n                return (\r\n                  <Grid key={index} item xs={item.width}>\r\n                    <InputLabel>{item.label}</InputLabel>\r\n                    {item.name !== \"password\" ? (\r\n                      <Input\r\n                        color=\"secondary\"\r\n                        className=\"w-100\"\r\n                        type=\"text\"\r\n                        disabled={item.name === \"email\" ? true : false}\r\n                        value={item.value || \"\"}\r\n                        onChange={onChange}\r\n                        name={item.name}\r\n                      />\r\n                    ) : (\r\n                      <Input\r\n                        color=\"secondary\"\r\n                        className=\"w-100\"\r\n                        type={showPassword ? \"text\" : \"password\"}\r\n                        value={item.value || \"\"}\r\n                        onChange={onChange}\r\n                        name={item.name}\r\n                        endAdornment={\r\n                          <InputAdornment position=\"end\">\r\n                            <IconButton\r\n                              onClick={() => setShowPassword(!showPassword)}\r\n                            >\r\n                              {showPassword ? (\r\n                                <VisibilityIcon />\r\n                              ) : (\r\n                                <VisibilityOffIcon />\r\n                              )}\r\n                            </IconButton>\r\n                          </InputAdornment>\r\n                        }\r\n                      />\r\n                    )}\r\n                  </Grid>\r\n                );\r\n              })}\r\n              <Grid item xs={12} className=\"mt-3\">\r\n                {updated && (\r\n                  <Box sx={{ marginBottom: \"15px\" }}>\r\n                    <Typography color=\"secondary\" variant=\"body2\">\r\n                      You have successfully updated !\r\n                    </Typography>\r\n                  </Box>\r\n                )}\r\n                <Button\r\n                  onClick={updateProfile}\r\n                  variant=\"contained\"\r\n                  color=\"secondary\"\r\n                >\r\n                  UPDATE PROFILE\r\n                </Button>\r\n              </Grid>\r\n            </Grid>\r\n          </Box>\r\n        </Grid>\r\n        <Grid item xs={12} md={4}>\r\n          <Box className=\"box\">\r\n            <Box\r\n              sx={{\r\n                display: \"flex\",\r\n                justifyContent: \"center\",\r\n                marginTop: \"-46px\",\r\n              }}\r\n            >\r\n              <Avatar sx={{ width: \"120px\", height: \"120px\" }} src={avatar} />\r\n            </Box>\r\n            <Stack>\r\n              <label\r\n                htmlFor=\"contained-button-file\"\r\n                style={{\r\n                  display: \"flex\",\r\n                  justifyContent: \"center\",\r\n                  marginTop: \"26px\",\r\n                }}\r\n              >\r\n                <Input\r\n                  accept=\"image/*\"\r\n                  id=\"contained-button-file\"\r\n                  multiple\r\n                  onChange={onChangeAvatar}\r\n                  type=\"file\"\r\n                  sx={{ display: \"none\" }}\r\n                />\r\n                <Button variant=\"contained\" color=\"secondary\" component=\"span\">\r\n                  Upload\r\n                </Button>\r\n              </label>\r\n            </Stack>\r\n            <List className=\"mt-4 pb-5\">\r\n              <ListItem sx={{ justifyContent: \"center\" }}>\r\n                <Typography variant=\"h5\">{fullName}</Typography>\r\n              </ListItem>\r\n              <ListItem sx={{ justifyContent: \"center\" }}>\r\n                <Typography>{inputValue.about}</Typography>\r\n              </ListItem>\r\n              <ListItem sx={{ justifyContent: \"center\" }} className=\"mt-3\">\r\n                <Button className=\"w-25\" variant=\"contained\" color=\"secondary\">\r\n                  Follow me\r\n                </Button>\r\n              </ListItem>\r\n            </List>\r\n          </Box>\r\n        </Grid>\r\n      </Grid>\r\n    </Box>\r\n  );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}