{"ast":null,"code":"import _slicedToArray from\"C:/Users/emlac/Desktop/ReactNew/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from\"react\";import{useDispatch,useSelector}from\"react-redux\";import moment from\"moment\";import{Table,TableHead,TableBody,TableRow,TableCell,Box,Stack,Pagination}from\"@material-ui/core\";import*as actions from\"./../../../../../../Actions\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function TaskUsers(){var users=useSelector(function(state){return state.users;});var dispatch=useDispatch();var _useState=useState(1),_useState2=_slicedToArray(_useState,2),currentPage=_useState2[0],setCurrentPage=_useState2[1];var _useState3=useState(7),_useState4=_slicedToArray(_useState3,2),postsPerPage=_useState4[0],setPostsPerPage=_useState4[1];var checkUsers=function checkUsers(users){var result=null;var count=0;users.forEach(function(user,index){if(moment(user.date).fromNow().indexOf(\"hours\")!==-1||moment(user.date).fromNow().indexOf(\"hour\")!==-1||moment(user.date).fromNow().indexOf(\"minutes\")!==-1||moment(user.date).fromNow().indexOf(\"minute\")!==-1||moment(user.date).fromNow().indexOf(\"seconds\")!==-1||moment(user.date).fromNow().indexOf(\"second\")!==-1){count++;}});count===0?result=false:result=true;return result;};useEffect(function(){dispatch(actions.acGetUsersRequest());},[]);var pageNumber=0;for(var i=1;i<=Math.ceil(users.length/postsPerPage);i++){pageNumber++;}var indexOfLastPost=currentPage*postsPerPage;var indexOfFirstPost=indexOfLastPost-postsPerPage;var currentPosts=users.slice(indexOfFirstPost,indexOfLastPost);return/*#__PURE__*/_jsxs(Box,{children:[/*#__PURE__*/_jsx(Box,{sx:{minHeight:\"400px\"},children:/*#__PURE__*/_jsxs(Table,{children:[/*#__PURE__*/_jsx(TableHead,{children:/*#__PURE__*/_jsxs(TableRow,{children:[/*#__PURE__*/_jsx(TableCell,{children:\"ID\"}),/*#__PURE__*/_jsx(TableCell,{children:\"Email\"}),/*#__PURE__*/_jsx(TableCell,{children:\"Username\"}),/*#__PURE__*/_jsx(TableCell,{children:\"Date\"})]})}),/*#__PURE__*/_jsx(TableBody,{children:checkUsers(currentPosts)?currentPosts.map(function(user,index){if(moment(user.date).fromNow().indexOf(\"hours\")!==-1||moment(user.date).fromNow().indexOf(\"hour\")!==-1||moment(user.date).fromNow().indexOf(\"minutes\")!==-1||moment(user.date).fromNow().indexOf(\"minute\")!==-1||moment(user.date).fromNow().indexOf(\"seconds\")!==-1||moment(user.date).fromNow().indexOf(\"second\")!==-1){return/*#__PURE__*/_jsxs(TableRow,{children:[/*#__PURE__*/_jsx(TableCell,{children:user.id}),/*#__PURE__*/_jsx(TableCell,{children:user.email}),/*#__PURE__*/_jsx(TableCell,{children:user.username}),/*#__PURE__*/_jsx(TableCell,{children:user.date})]},index);}}):/*#__PURE__*/_jsx(TableRow,{children:/*#__PURE__*/_jsx(TableCell,{colSpan:4,children:\"No users have registered within the last 24 hours\"})})})]})}),/*#__PURE__*/_jsx(Box,{sx:{padding:\"10px 0\",display:\"flex\",justifyContent:\"center\"},children:/*#__PURE__*/_jsx(Stack,{spacing:2,children:/*#__PURE__*/_jsx(Pagination,{count:pageNumber,onClick:function onClick(e){return setCurrentPage(e.target.innerText);},hidePrevButton:true,hideNextButton:true})})})]});}","map":{"version":3,"sources":["C:/Users/emlac/Desktop/ReactNew/src/Components/AdminPage/Admin/Home/Tasks/TaskUsers/index.js"],"names":["React","useEffect","useState","useDispatch","useSelector","moment","Table","TableHead","TableBody","TableRow","TableCell","Box","Stack","Pagination","actions","TaskUsers","users","state","dispatch","currentPage","setCurrentPage","postsPerPage","setPostsPerPage","checkUsers","result","count","forEach","user","index","date","fromNow","indexOf","acGetUsersRequest","pageNumber","i","Math","ceil","length","indexOfLastPost","indexOfFirstPost","currentPosts","slice","minHeight","map","id","email","username","padding","display","justifyContent","e","target","innerText"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport moment from \"moment\";\r\nimport {\r\n  Table,\r\n  TableHead,\r\n  TableBody,\r\n  TableRow,\r\n  TableCell,\r\n  Box,\r\n  Stack,\r\n  Pagination,\r\n} from \"@material-ui/core\";\r\nimport * as actions from \"./../../../../../../Actions\";\r\n\r\nexport default function TaskUsers() {\r\n  const users = useSelector((state) => state.users);\r\n  const dispatch = useDispatch();\r\n  const [currentPage, setCurrentPage] = useState(1);\r\n  const [postsPerPage, setPostsPerPage] = useState(7);\r\n\r\n  const checkUsers = (users) => {\r\n    var result = null;\r\n    var count = 0;\r\n\r\n    users.forEach((user, index) => {\r\n      if (\r\n        moment(user.date).fromNow().indexOf(\"hours\") !== -1 ||\r\n        moment(user.date).fromNow().indexOf(\"hour\") !== -1 ||\r\n        moment(user.date).fromNow().indexOf(\"minutes\") !== -1 ||\r\n        moment(user.date).fromNow().indexOf(\"minute\") !== -1 ||\r\n        moment(user.date).fromNow().indexOf(\"seconds\") !== -1 ||\r\n        moment(user.date).fromNow().indexOf(\"second\") !== -1\r\n      ) {\r\n        count++;\r\n      }\r\n    });\r\n\r\n    count === 0 ? (result = false) : (result = true);\r\n    return result;\r\n  };\r\n\r\n  useEffect(() => {\r\n    dispatch(actions.acGetUsersRequest());\r\n  }, []);\r\n\r\n  var pageNumber = 0;\r\n  for (let i = 1; i <= Math.ceil(users.length / postsPerPage); i++) {\r\n    pageNumber++;\r\n  }\r\n\r\n  const indexOfLastPost = currentPage * postsPerPage;\r\n  const indexOfFirstPost = indexOfLastPost - postsPerPage;\r\n  const currentPosts = users.slice(indexOfFirstPost, indexOfLastPost);\r\n\r\n  return (\r\n    <Box>\r\n      <Box sx={{ minHeight: \"400px\" }}>\r\n        <Table>\r\n          <TableHead>\r\n            <TableRow>\r\n              <TableCell>ID</TableCell>\r\n              <TableCell>Email</TableCell>\r\n              <TableCell>Username</TableCell>\r\n              <TableCell>Date</TableCell>\r\n            </TableRow>\r\n          </TableHead>\r\n          <TableBody>\r\n            {checkUsers(currentPosts) ? (\r\n              currentPosts.map((user, index) => {\r\n                if (\r\n                  moment(user.date).fromNow().indexOf(\"hours\") !== -1 ||\r\n                  moment(user.date).fromNow().indexOf(\"hour\") !== -1 ||\r\n                  moment(user.date).fromNow().indexOf(\"minutes\") !== -1 ||\r\n                  moment(user.date).fromNow().indexOf(\"minute\") !== -1 ||\r\n                  moment(user.date).fromNow().indexOf(\"seconds\") !== -1 ||\r\n                  moment(user.date).fromNow().indexOf(\"second\") !== -1\r\n                ) {\r\n                  return (\r\n                    <TableRow key={index}>\r\n                      <TableCell>{user.id}</TableCell>\r\n                      <TableCell>{user.email}</TableCell>\r\n                      <TableCell>{user.username}</TableCell>\r\n                      <TableCell>{user.date}</TableCell>\r\n                    </TableRow>\r\n                  );\r\n                }\r\n              })\r\n            ) : (\r\n              <TableRow>\r\n                <TableCell colSpan={4}>\r\n                  No users have registered within the last 24 hours\r\n                </TableCell>\r\n              </TableRow>\r\n            )}\r\n          </TableBody>\r\n        </Table>\r\n      </Box>\r\n      <Box\r\n        sx={{ padding: \"10px 0\", display: \"flex\", justifyContent: \"center\" }}\r\n      >\r\n        <Stack spacing={2}>\r\n          <Pagination\r\n            count={pageNumber}\r\n            onClick={(e) => setCurrentPage(e.target.innerText)}\r\n            hidePrevButton\r\n            hideNextButton\r\n          />\r\n        </Stack>\r\n      </Box>\r\n    </Box>\r\n  );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}